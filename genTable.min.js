var genTable=function(a){for(var r=[],t=[],n=0;n<a.data.length;n++)for(var e=a.data[n],l=0;l<e.length;l++){a.data[n][l]=a.data[n][l].replace(/\t/g,"    ");var h=e[l],o=e[l].split(/\n|\r\n/);if(0==n)r.push(h.length);else if(a.markdown)h.length>r[l]&&(r[l]=h.length);else for(var g=0;g<o.length;g++)o[g].length>r[l]&&(r[l]=o[g].length);0==l?t.push(o.length):o.length>t[n]&&(t[n]=o.length)}for(var n=0;n<r.length;n++)r[n]=r[n]+1;for(var d=function(a,t,n){for(var e=a,l=0;l<r.length;l++){for(var h=r[l],o=0,g="";o<h+2;)g+="─",o++;e+=g,l!=r.length-1&&(e+=t)}return e+=n},f=function(a,r,t){for(var n=0;n<a.length;n++)for(;a[n].length<r[n];)a[n]+=t;return a},n=0;n<a.data.length;n++){var e=a.data[n];e=f(e,r," ")}if(a.markdown){for(var v=[],n=0;n<a.data[0].length;n++)v.push("");v=f(v,r,"-"),a.data.splice(1,0,v);for(var n=0;n<a.data.length;n++){var e=a.data[n];e=f(e,r," "),a.data[n]="| "+e.join(" | ").replace(/\n|\r\n/g," ")+" |"}}else{for(var n=0;n<a.data.length;n++){var e=a.data[n];if(e=f(e,r," "),1==t[n])a.data[n]="│ "+e.join(" │ ")+" │";else{for(var i=[],l=0;l<t[n];l++)i.push([]);for(var l=0;l<e.length;l++){for(var h=e[l].split(/\n|\r\n/);h.length<t[n];)h.push("");for(var g=0;g<h.length;g++){var o=h[g];i[g][l]=o}}for(var l=0;l<i.length;l++){var s=i[l];s=f(s,r," "),i[l]="│ "+s.join(" │ ")+" │"}a.data[n]=i.join("\n")}}for(var p=d("├","┼","┤"),n=0;n<a.data.length;n++)n%2&&a.data.splice(n,0,p);0!=a.headers&&(a.data[0]=a.data[0].toUpperCase()),a.data.splice(0,0,d("┌","┬","┐")),a.data.push(d("└","┴","┘"))}return a.data.join("\n")};